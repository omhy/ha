resources:
  - url: /customcards/custom-lovelace/mini-media-player-bundle.js
    type: module
  - url: /customcards/custom-lovelace/mini-graph-card-bundle.js
    type: module
  - url: /customcards/custom-lovelace/tracker-card.js
    type: module
  - url: /customcards/custom-lovelace/custom-weather-card-chart.js
    type: module
  - url: /customcards/custom-lovelace/card-tools.js
    type: js
  - url: /customcards/custom-lovelace/auto-entities.js
    type: js
  - url: /customcards/custom-lovelace/calendar-card.js
    type: js

title: Home
views:
  ##################   MAIN
  - title: Main
    path: main
    icon: mdi:floor-plan
    badges:
      - sensor.wt00_symbol
      - sensor.temperature_158d00022c7cf2
      - sensor.humidity_158d00022c7cf2
      - sensor.wt00_precipitation
      - sensor.wt00_wind_speed
      - sun.sun
    cards:
      - type: custom:calendar-card
        title: Events
#        numberOfDays: 14
#        progressBar: true
        entities:
          - calendar.personal
          - calendar.family
          - calendar.holidays_in_latvia

      - type: glance
        title: Motion
        entities:
          - binary_sensor.motion_sensor_158d0001fa3dc0
          - binary_sensor.motion_sensor_158d0001e52779
          - binary_sensor.motion_sensor_158d0002d43d7d

#      - type: glance
#        title: Motions Today
#        entities:
#          - sensor.livingroom_motions
#          - sensor.bathroom_motions
#          - sensor.yuriroom_motions

      - type: glance
        title: Lights
        entities:
          - entity: light.garland
            tap_action:
              action: toggle
          - entity: light.standalone_switch
            tap_action:
              action: toggle
          - entity: light.big_torch
            tap_action:
              action: toggle
            hold_action:
              action: more-info
          - entity: light.corner_lamp
            tap_action:
              action: toggle
            hold_action:
              action: more-info
          - entity: light.small_torch
            tap_action:
              action: toggle
            hold_action:
              action: more-info
          - entity: light.fire_lamp
            tap_action:
              action: toggle
          - entity: light.corridor
            tap_action:
              action: toggle
          - entity: light.bathroom
            tap_action:
              action: toggle

      - type: custom:auto-entities
        card:
          type: entities
          title: Lights on
        filter:
          include:
            - domain: light
              state: "on"
          exclude:
            - entity_id: light.group_*

      - type: custom:auto-entities
        card:
          type: entities
          title: Playing now
          show_header_toggle: false
        filter:
          include:
            - domain: media_player
          exclude:
            - entity_id: media_player.spotify
            - entity_id: media_player.kodi
            - entity_id: media_player.abox
            - state: "off"
            - state: "idle"
            - state: "unavailable"

      - type: custom:weather-card-chart
        title: Weather
        weather: weather.smhi_home
        sun: sun.sun

  - title: Music
    path: music
    icon: mdi:music-circle
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: picture
                image: /local/radio/groovesalad.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_groovesalad
              - type: picture
                image: /local/radio/illstreet.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_illstreet
              - type: picture
                image: /local/radio/seventies.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_seventies
              - type: picture
                image: /local/radio/thistle.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_thistle
          - type: horizontal-stack
            cards:
              - type: picture
                image: /local/radio/secretagent.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_secretagent
              - type: picture
                image: /local/radio/deepspaceone.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_deepspaceone
              - type: picture
                image: /local/radio/covers.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_covers
              - type: picture
                image: /local/radio/beatblender.jpg
                tap_action:
                  action: call-service
                  service: script.media_radio_play_soma_beatblender
          - type: entities
            title: Radio
            show_header_toggle: false
            entities:
              - input_select.radio_cast
              - script.media_player_stop_all

      - type: vertical-stack
        cards:
          - type: custom:mini-media-player
            entity: media_player.kitchen_display
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.chromecast
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.loud_speaker
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.yury_speaker
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.black_speaker
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.speakers
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.surround
            artwork: cover

#          - type: custom:mini-media-player
#            entity: media_player.abox
#            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.kodi
            artwork: cover

          - type: custom:mini-media-player
            entity: media_player.spotify
            artwork: full-cover

    ##################   CLIMATE
  - title: Climate
    path: climate
    icon: mdi:gauge
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            title: Temperature
            entities:
              - sensor.temperature_158d00022c7cf2
              - sensor.temperature_158d0002323783
              - sensor.temperature_158d000234816a
              - sensor.temperature_158d0001f23cbe
              - sensor.temperature_158d0002271609
          - type: glance
            title: Humidity
            entities:
              - sensor.humidity_158d00022c7cf2
              - sensor.humidity_158d0002323783
              - sensor.humidity_158d000234816a
              - sensor.humidity_158d0001f23cbe
              - sensor.humidity_158d0002271609
          - type: glance
            title: Pressure
            entities:
              - sensor.pressure_158d00022c7cf2
              - sensor.pressure_158d0002323783
              - sensor.pressure_158d000234816a
              - sensor.pressure_158d0001f23cbe
              - sensor.pressure_158d0002271609

      - type: vertical-stack
        cards:
          - type: glance
            title: Outside
            entities:
              - sensor.current_uv_level
              - sensor.current_uv_index
              - sensor.max_uv_index
              - sensor.current_ozone_level
          - type: glance
            title: Temperature Today
            entities:
              - sensor.outside_temperature_min
              - sensor.outside_temperature_max
              - sensor.outside_temperature_diff
              - sensor.outside_temperature_min_at
              - sensor.outside_temperature_max_at

      - type: vertical-stack
        cards:
          - type: history-graph
            title: Outside 12h
            hours_to_show: 12
            entities:
              - sensor.temperature_158d00022c7cf2
          - type: history-graph
            title: Temperatures 12h
            hours_to_show: 12
            entities:
              - sensor.temperature_158d0002323783
              - sensor.temperature_158d000234816a
              - sensor.temperature_158d0001f23cbe
              - sensor.temperature_158d0002271609

  ##################   HISTORY
  - title: History
    path: history
    icon: mdi:chart-timeline
    badges:
      - person.dima
      - person.alyona
      - person.yuri
#      - sensor.waze_home_work
#      - sensor.waze_work_home
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            title: Is on now
            entities:
              - binary_sensor.ping_computer
              - binary_sensor.ping_laptop
              - binary_sensor.ping_tv
              - binary_sensor.ping_abox
          - type: glance
            title: Is on Today
            entities:
              - sensor.computer_on_today
              - sensor.laptop_on_today
              - sensor.tv_on_today
              - sensor.abox_on_today
          - type: glance
            title: Abox usage
            entities:
#              - sensor.launcher_today
              - sensor.abox_app
              - sensor.youtube_today
              - sensor.perfectplayer_today
              - sensor.hdvideo_today

      - type: history-graph
        title: Movements 1h
        hours_to_show: 1
        entities:
          - binary_sensor.motion_sensor_158d0001fa3dc0
          - binary_sensor.motion_sensor_158d0001e52779
          - binary_sensor.motion_sensor_158d0002d43d7d

      - type: history-graph
        title: Living room power 1h
        hours_to_show: 1
        entities:
          - sensor.power_strip_1_load_power
          - sensor.power_strip_3_load_power
          - sensor.power_strip_4_load_power

      - type: history-graph
        title: Android box 1h
        hours_to_show: 1
        entities:
          - binary_sensor.ping_tv
          - binary_sensor.ping_abox
          - binary_sensor.chromecast_is_active
          - media_player.chromecast
          - media_player.abox
          - sensor.abox_app

      - type: history-graph
        title: Persons 3h
        hours_to_show: 2
        entities:
          - person.dima
          - person.alyona
          - person.yuri

#      - type: history-graph
#        title: Waze 24h
#        hours_to_show: 24
#        entities:
#          - sensor.waze_home_work
#          - sensor.waze_work_home


  ##################   LIGHTS FLOW
  - title: Lights flow
    path: lights_flow
    icon: mdi:palette
    cards:
      - type: picture
        image: /local/hue.png
      - type: glance
        title: Flow
        show_header_toggle: false
        entities:
          - entity: input_boolean.livingroom_torch_use
            tap_action:
              action: toggle
          - entity: input_boolean.livingroom_corner_use
            tap_action:
              action: toggle
          - input_select.living_room_flow
      - type: entities
        title: Common settings
        show_header_toggle: false
        entities:
          - input_number.flow_transition
          - input_number.flow_brightness
          - input_number.flow_saturation
      - type: entities
        title: Current flow settings
        show_header_toggle: false
        entities:
          - input_number.flow_hue1
          - input_number.flow_hue2
          - input_number.flow_hue3
          - input_number.flow_hue4

      - type: entities
        title: Custom flow settings
        show_header_toggle: false
        entities:
          - input_number.flow_custom_hue1
          - input_number.flow_custom_hue2
          - input_number.flow_custom_hue3
          - input_number.flow_custom_hue4

  ##################   ELECTRO
  - title: Electricity
    path: electro
    icon: mdi:power-plug
    cards:
      - type: glance
        title: Computer
        entities:
          - sensor.power_strip_1_load_power
          - sensor.power_strip_1_utility_h
          - sensor.power_strip_1_utility_d
          - sensor.power_strip_1_utility_w
          - sensor.power_strip_1_utility_m
      - type: glance
        title: TV
        show_header_toggle: true
        entities:
          - sensor.power_strip_4_load_power
          - sensor.power_strip_4_utility_h
          - sensor.power_strip_4_utility_d
          - sensor.power_strip_4_utility_w
          - sensor.power_strip_4_utility_m
      - type: glance
        title: Router
        show_header_toggle: true
        entities:
          - sensor.power_strip_3_load_power
          - sensor.power_strip_3_utility_h
          - sensor.power_strip_3_utility_d
          - sensor.power_strip_3_utility_w
          - sensor.power_strip_3_utility_m
      - type: glance
        title: Kitchen
        show_header_toggle: true
        entities:
          - sensor.power_strip_2_load_power
          - sensor.power_strip_2_utility_h
          - sensor.power_strip_2_utility_d
          - sensor.power_strip_2_utility_w
          - sensor.power_strip_2_utility_m
      - type: glance
        title: Fridge
        show_header_toggle: true
        entities:
          - sensor.power_strip_5_load_power
          - sensor.power_strip_5_utility_h
          - sensor.power_strip_5_utility_d
          - sensor.power_strip_5_utility_w
          - sensor.power_strip_5_utility_m

      - type: entities
        show_header_toggle: false
        title: Computer limit
        entities:
          - input_boolean.computer_today_limit
          - sensor.computer_on_today_minutes
          - input_number.computer_today_allowed

    ##################   FORECAST
  - title: Forecast
    path: forecast
    icon: mdi:cloud-circle
    cards:
      - type: glance
        title: Temperature
        show_header_toggle: true
        entities:
          - sensor.wt00_temperature
          - sensor.wt01_temperature
          - sensor.wt02_temperature
          - sensor.wt03_temperature
          - sensor.wt06_temperature
          - sensor.wt09_temperature
          - sensor.wt12_temperature
          - sensor.wt24_temperature
          - sensor.wt48_temperature
          - sensor.wt72_temperature
      - type: glance
        title: Humidity
        show_header_toggle: true
        entities:
          - sensor.wt00_humidity
          - sensor.wt01_humidity
          - sensor.wt02_humidity
          - sensor.wt03_humidity
          - sensor.wt06_humidity
          - sensor.wt09_humidity
          - sensor.wt12_humidity
          - sensor.wt24_humidity
          - sensor.wt48_humidity
          - sensor.wt72_humidity
      - type: glance
        title: Precipitation
        show_header_toggle: true
        entities:
          - sensor.wt00_precipitation
          - sensor.wt01_precipitation
          - sensor.wt02_precipitation
          - sensor.wt03_precipitation
          - sensor.wt06_precipitation
          - sensor.wt09_precipitation
          - sensor.wt12_precipitation
          - sensor.wt24_precipitation
          - sensor.wt48_precipitation
          - sensor.wt72_precipitation
      - type: glance
        title: Wind speed
        show_header_toggle: true
        entities:
          - sensor.wt00_wind_speed
          - sensor.wt01_wind_speed
          - sensor.wt02_wind_speed
          - sensor.wt03_wind_speed
          - sensor.wt06_wind_speed
          - sensor.wt09_wind_speed
          - sensor.wt12_wind_speed
          - sensor.wt24_wind_speed
          - sensor.wt48_wind_speed
          - sensor.wt72_wind_speed
      - type: glance
        title: Pressure
        show_header_toggle: true
        entities:
          - sensor.wt00_pressure
          - sensor.wt01_pressure
          - sensor.wt02_pressure
          - sensor.wt03_pressure
          - sensor.wt06_pressure
          - sensor.wt09_pressure
          - sensor.wt12_pressure
          - sensor.wt24_pressure
          - sensor.wt48_pressure
          - sensor.wt72_pressure
      - type: glance
        title: Outside
        show_header_toggle: true
        show_state: false
        entities:
          - sensor.wt00_symbol
          - sensor.wt01_symbol
          - sensor.wt02_symbol
          - sensor.wt03_symbol
          - sensor.wt06_symbol
          - sensor.wt09_symbol
          - sensor.wt12_symbol
          - sensor.wt24_symbol
          - sensor.wt48_symbol
          - sensor.wt72_symbol

  ##################   LINKS
  - title: Links
    path: links
    icon: mdi:link
    cards:
      - type: entities
        title: Internal
        show_header_toggle: false
        entities:
          - type: weblink
            name: Router
            url: http://192.168.1.1/
            icon: mdi:router-wireless
          - type: weblink
            name: Router firmwares
            url: https://downloads.pangubox.com/pandorabox/
            icon: mdi:router-wireless
          - type: weblink
            name: Influx DB
            url: http://192.168.1.10:8888
            icon: mdi:database
          - type: weblink
            name: Grafana
            url: http://192.168.1.10:3000
            icon: mdi:graphql
          - type: weblink
            name: Adguard
            url: http://192.168.1.10:3210
            icon: mdi:shield
          - type: weblink
            name: Github repo
            url: https://github.com/omhy/ha
            icon: mdi:github-circle

      - type: entities
        title: Sonoffs
        show_header_toggle: false
        entities:
          - type: weblink
            name: sonoff_garland
            url: http://192.168.1.40/
            icon: mdi:switch
          - type: weblink
            name: sonoff_firelamp
            url: http://192.168.1.41/
            icon: mdi:switch
#          - type: weblink
#            name: sonoff_window_stars
#            url: http://192.168.1.42/
#            icon: mdi:switch

      - type: entities
        title: Media players
        show_header_toggle: false
        entities:
          - type: weblink
            name: Yuri mini API
            url: http://192.168.1.30:8008/setup/eureka_info
            icon: mdi:dots-horizontal-circle-outline
          - type: weblink
            name: Black mini API
            url: http://192.168.1.34:8008/setup/eureka_info
            icon: mdi:dots-horizontal-circle
          - type: weblink
            name: Home API
            url: http://192.168.1.31:8008/setup/eureka_info
            icon: mdi:google-home
          - type: weblink
            name: Home hub API
            url: http://192.168.1.32:8008/setup/eureka_info
            icon: mdi:monitor
          - type: weblink
            name: Chromecast API
            url: http://192.168.1.33:8008/setup/eureka_info
            icon: mdi:google-chrome
          - type: weblink
            name: Kodi
            url: http://192.168.1.20:8080
            icon: mdi:kodi

      - type: entities
        title: Home Assistant
        show_header_toggle: false
        entities:
          - type: weblink
            name: Stable verison
            url: https://s3.amazonaws.com/hassio-version/stable.json
            icon: mdi:home-assistant
          - type: weblink
            name: Lovelace
            url: https://www.home-assistant.io/lovelace
            icon: mdi:home-assistant
          - type: weblink
            name: Tags
            url: https://github.com/home-assistant/home-assistant/tags
            icon: mdi:github-circle
          - type: weblink
            name: Light component
            url: https://www.home-assistant.io/components/light/
            icon: mdi:home-assistant
          - type: weblink
            name: Automation conditions
            url: https://www.home-assistant.io/docs/automation/condition/
            icon: mdi:script
          - type: weblink
            name: Automation trigger
            url: https://www.home-assistant.io/docs/automation/trigger/
            icon: mdi:script

      - type: entities
        title: User interface
        show_header_toggle: false
        entities:
          - type: weblink
            name: MDI icons
            url: https://materialdesignicons.com
            icon: mdi:sticker
          - type: weblink
            name: Emoji list
            url: http://unicode.org/emoji/charts/full-emoji-list.html
            icon: mdi:sticker-emoji

  ##################   SYSTEM
  - title: System
    path: sys
    icon: mdi:desktop-tower
    cards:
      - type: custom:tracker-card
        title:
        trackers:
          - sensor.custom_card_tracker
          - sensor.custom_component_tracker

      - type: entities
        title: Doorbell settings
        show_header_toggle: false
        entities:
          - input_number.doorbell_volume
          - input_number.doorbell_melody

#      - type: entities
#        title: Zigbee
#        show_header_toggle: false
#        entities:
#          - input_boolean.zigbee_permit_join
#          - timer.zigbee_permit_join

      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Low batteries
          show_header_toggle: false
        filter:
          include:
            - entity_id: sensor.*_battery_level
              state: '< 25'

      - type: vertical-stack
        title: System
        cards:
          - type: glance
            title: System
            entities:
              - sensor.uptime
              - sensor.processor_use
              - sensor.memory_use_percent
              - sensor.temp
              - input_select.ha_log_level

          - type: glance
            title: Storage
            entities:
              - sensor.disk_use_percent_home
              - sensor.swap_use_percent
              - sensor.db_size_maria
              - sensor.db_size_influx

      - type: glance
        title: Dates
        entities:
          - sensor.date
          - sensor.time
          - binary_sensor.is_workday
          - sensor.days_in_month

      - type: history-graph
        title: CPU/Mem/Disk 12h
        hours_to_show: 12
        entities:
          - sensor.processor_use
          - sensor.memory_use_percent
          - sensor.disk_use_percent_home

      - type: history-graph
        title: CPU temp 12h
        hours_to_show: 12
        entities:
          - sensor.temp