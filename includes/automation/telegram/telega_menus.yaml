- alias: "telegram_handle_cmd_menu"
  trigger:
    - platform: event
      event_type: telegram_text
      event_data:
        text: "m"
    - platform: event
      event_type: telegram_text
      event_data:
        text: "M"
    - platform: event
      event_type: telegram_text
      event_data:
        text: "ั"
  action:
    - service: telegram_bot.send_message
      data_template:
        target: "{{ trigger.event.data.user_id }}"
        message: "Main menu"
        inline_keyboard:
          - "\U000026C5 Environment:/environment, \U0001F30D People:/people"
          - "\U0001F6A7 Tech:/tech, \U0000267B Dismiss:/dismiss"

- alias: "telegram_handle_cmd_log"
  trigger:
    - platform: event
      event_type: telegram_text
      event_data:
        text: "l"
    - platform: event
      event_type: telegram_text
      event_data:
        text: "L"
    - platform: event
      event_type: telegram_text
      event_data:
        text: "ะด"
  action:
    - service: telegram_bot.send_document
      data_template:
        target: "{{ trigger.event.data.user_id }}"
        file: "/config/home-assistant.log"
        inline_keyboard:
          - "\U0001F504 Refresh:{{ trigger.event.data.data }}, \U0000267B Dismiss:/dismiss"

- alias: "telegram_handle_clb_menu"
  trigger:
    - platform: event
      event_type: telegram_callback
      event_data:
        data: "/menu"
  action:
    - service: telegram_bot.answer_callback_query
      data_template:
        callback_query_id: "{{ trigger.event.data.id }}"
        message: "Roger {{ trigger.event.data.data }}"
    - service: telegram_bot.send_message
      data_template:
        target: "{{ trigger.event.data.user_id }}"
        message: "Main menu"
        inline_keyboard:
          - "\U000026C5 Environment:/environment, \U0001F30D People:/people"
          - "\U0001F6A7 Tech:/tech, \U0000267B Dismiss:/dismiss"

- alias: "telegram_handle_clb_tech"
  trigger:
    - platform: event
      event_type: telegram_callback
      event_data:
        data: "/tech"
  action:
    - service: telegram_bot.answer_callback_query
      data_template:
        callback_query_id: "{{ trigger.event.data.id }}"
        message: "Roger {{ trigger.event.data.data }}"
    - service: telegram_bot.send_message
      data_template:
        target: "{{ trigger.event.data.user_id }}"
        message: "Tech menu"
        inline_keyboard:
          - "\U0001F5A5 Computer:/computer, \U0001F4BB Laptop:/laptop"
          - "\U0001F4F7 Snap cam 1:/snap cam1, \U0001F3A5 Vid cam 1:/vid cam1"
          - "\U0001F4F7 Snap cam 2:/snap cam2, \U0001F3A5 Vid cam 2:/vid cam2"
          - "\U0001F4CB Get log:/ha_getlog, \U0001F528 Restart HA:/ha_restart"
          - "\U0001F50C Consumed:/electro, \U0000267B Dismiss:/dismiss"
          #      - "\U0001F4F7 Camera 1:/snap cam1, \U0001F4F7 Camera 2:/snap cam2"

- alias: "telegram_handle_clb_environment"
  trigger:
    - platform: event
      event_type: telegram_callback
      event_data:
        data: "/environment"
  action:
    - service: telegram_bot.answer_callback_query
      data_template:
        callback_query_id: "{{ trigger.event.data.id }}"
        message: "Roger {{ trigger.event.data.data }}"
    - service: telegram_bot.send_message
      data_template:
        target: "{{ trigger.event.data.user_id }}"
        message: "Weather menu"
        inline_keyboard:
          - "\U0001F9E9 Today:/weather_today, \U00002601 Now:/weather_now"
          - "\U0001F3D8 Rooms:/rooms, \U0001F308 Forecast:/forecast"
          - "\U0000267B Dismiss:/dismiss"

