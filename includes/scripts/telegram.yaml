telegram_send_weather_today:
  sequence:
    - service: telegram_bot.send_message
      data:
        target: "{{ target }}"
        title: "#EnvToday {{ states('sensor.now_ymd') }}"
        message: >
          ```
          
          ğŸŒ¡ï¸ now {{ states['sensor.outdoor_temperature'].state_with_unit }}

          ğŸ¥¶ min {{ states['input_number.outdoor_temperature_min'].state_with_unit }} at {{ states('input_datetime.outdoor_temperature_min') }}

          ğŸ¥µ max {{ states['input_number.outdoor_temperature_max'].state_with_unit }} at {{ states('input_datetime.outdoor_temperature_max') }}
          ```
        inline_keyboard:
          - "ğŸ”„ Refresh:/weather_today, â™»ï¸ Dismiss:/dismiss"

telegram_send_weather_now:
  sequence:
    - service: telegram_bot.send_message
      data:
        target: "{{ target }}"
        title: "#EnvNow {{ states('sensor.now_ymd') }}"
        message: >
          ğŸ¡ `Park: {{ states['sensor.0x00158d00022c7cf2_temperature'].state_with_unit }}, {{ states['sensor.0x00158d00022c7cf2_humidity'].state_with_unit }}`

          ğŸ  `Yard: {{ states['sensor.0x00158d0002323783_temperature'].state_with_unit }}, {{ states['sensor.0x00158d0002323783_humidity'].state_with_unit }}`
        inline_keyboard:
          - "ğŸ”„ Refresh:/weather_now, â™»ï¸ Dismiss:/dismiss"

telegram_send_rooms:
  sequence:
    - service: telegram_bot.send_message
      data:
        target: "{{ target }}"
        title: "Rooms climate"
        message: >
          {% set frm = "%-8s | %-8s" %}

          ğŸŒ¡ï¸`      {{ frm | format("temp", "hmdt") }}`

          ğŸ¡` park {{ frm | format(states['sensor.0x00158d00022c7cf2_temperature'].state_with_unit, states['sensor.0x00158d00022c7cf2_humidity'].state_with_unit) }}`

          ğŸ ` yard {{ frm | format(states['sensor.0x00158d0002323783_temperature'].state_with_unit, states['sensor.0x00158d0002323783_humidity'].state_with_unit) }}`

          ğŸ“º` lvg  {{ frm | format(states['sensor.0x00158d000234816a_temperature'].state_with_unit, states['sensor.0x00158d000234816a_humidity'].state_with_unit) }}`

          ğŸ§¸` chd  {{ frm | format(states['sensor.0x00158d0002271609_temperature'].state_with_unit, states['sensor.0x00158d0002271609_humidity'].state_with_unit) }}`

          ğŸ›ï¸` bdr  {{ frm | format(states['sensor.0x00158d0001f23cbe_temperature'].state_with_unit, states['sensor.0x00158d0001f23cbe_humidity'].state_with_unit) }}`

          ğŸ²` ktc  {{ frm | format(states['sensor.0x00158d00032308dd_temperature'].state_with_unit, states['sensor.0x00158d00032308dd_humidity'].state_with_unit) }}`
        inline_keyboard:
          - "ğŸ”„ Refresh:/rooms, â™»ï¸ Dismiss:/dismiss"

telegram_send_electro:
  sequence:
    - service: telegram_bot.send_message
      data:
        target: "{{ target }}"
        title: "#Consumption {{ states('sensor.now_ymd') }} - {{ states['sensor.consumption_today'].state_with_unit }}"
        message: >
          {% set frm = "%-4s | %-5s | %-6s" %}

          ğŸ”Œ` kW  {{ frm | format("day", "month", "curr") }}`

          ğŸ–¥ï¸` cmp {{ frm | format(states['sensor.power_strip_1_utility_d'].state | round(2), states['sensor.power_strip_1_utility_m'].state | round(2), states['sensor.power_strip_1_load_power'].state | round(2)) }}`

          ğŸ“º` tv  {{ frm | format(states['sensor.power_strip_4_utility_d'].state | round(2), states['sensor.power_strip_4_utility_m'].state | round(2), states['sensor.power_strip_4_load_power'].state | round(2)) }}`

          ğŸ“¡` ntw {{ frm | format(states['sensor.power_strip_3_utility_d'].state | round(2), states['sensor.power_strip_3_utility_m'].state | round(2), states['sensor.power_strip_3_load_power'].state | round(2)) }}`

          ğŸ²` ktc {{ frm | format(states['sensor.power_strip_2_utility_d'].state | round(2), states['sensor.power_strip_2_utility_m'].state | round(2), states['sensor.power_strip_2_load_power'].state | round(2)) }}`

          ğŸ¥©` frg {{ frm | format(states['sensor.power_strip_5_utility_d'].state | round(2), states['sensor.power_strip_5_utility_m'].state | round(2), states['sensor.power_strip_5_load_power'].state | round(2)) }}`

          `----------------------------`

          `ğŸ–¥ï¸ {{ states['sensor.computer_on_today'].attributes.value }}, ğŸ“º {{ states['sensor.tv_on_today'].attributes.value }}`
        inline_keyboard:
          - "ğŸ”„ Refresh:/electro, â™»ï¸ Dismiss:/dismiss"
